{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block content %}
<head>
    <title>
        Manage Jobs
    </title>
    <link rel="stylesheet" href="{% static 'css/manage_jobs.css' %}">
</head>
{% if messages %}
{% for message in messages %}
<div class="alert-{{message.tags}}"><strong>{{ message }}</strong></div>
{% endfor %}
{% endif %}
{% if jobs %}
<div class="table-container">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Job Title</th>
                <th scope="col">Location</th>
                <th scope="col">Salary</th>
                <th scope="col">No. of Applicants</th>
                <th scope="col">Job Status</th>
                <th scope="col">Creation Time</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for job in jobs %}
            <tr>
                <td>{{job.title}}</td>
                <td>{{job.location}}</td>
                <td>{{job.salary | intcomma}}</td>
                <!-- todo: add # of applicants -->
                <td>{{job.num_applicants}}<a href="{% url 'job:all-applicants' job.pk %}"> view all</a></td>
                {% if job.is_available %}
                <td class="active"><strong>active</strong></td>
                {% else %}
                <td class="not-active"><strong>not active</strong></td>
                {% endif %}
                <td>{{job.timestamp}}</td>
                <td><a href="{% url 'job:update-job' job.pk %}">update job</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}
{% endblock %}